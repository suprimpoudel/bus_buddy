{"ast":null,"code":"var _jsxFileName = \"/Users/suprimpoudel/WebstormProjects/bus_buddy_web/src/scenes/add_update_driver/index.jsx\";\nimport React, { useEffect, useState } from 'react';\nimport { Box, Button, TextField } from \"@mui/material\";\nimport { Formik } from \"formik\";\nimport * as yup from \"yup\";\nimport useMediaQuery from \"@mui/material/useMediaQuery\";\nimport Header from \"../../components/Header\";\nimport { useNavigate, useParams } from \"react-router-dom\";\nimport axios from \"axios\";\nimport { vehicleEndPoint } from \"../../data/apiConstants\";\nimport HandleException from \"../../util/Toastify\";\nimport { toast } from \"react-toastify\";\n\nconst AddUpdateVehicle = () => {\n  const navigator = useNavigate();\n  const isNonMobile = useMediaQuery(\"(min-width:600px)\");\n  let {\n    id\n  } = useParams();\n  const [vehicle, setVehicle] = useState({\n    id: null,\n    seatingCapacity: 0,\n    model: \"\",\n    email: \"\",\n    vehicleNumber: \"\"\n  });\n  const initialValues = {\n    seatingCapacity: vehicle.seatingCapacity,\n    model: vehicle.model,\n    vehicleNumber: vehicle.vehicleNumber\n  };\n\n  const handleFormSubmit = async values => {\n    if (vehicle.id == null) {\n      axios.post(vehicleEndPoint, values).then(() => {\n        toast.success(\"Successfully created vehicle\");\n        navigator(-1);\n      }).catch(error => {\n        HandleException(error);\n      });\n    } else {\n      values.id = vehicle.id;\n      axios.put(`${vehicleEndPoint}/${vehicle.id}`, values).then(() => {\n        toast.success(\"Successfully updated vehicle\");\n        navigator(-1);\n      }).catch(error => {\n        HandleException(error);\n      });\n    }\n  };\n\n  const checkoutSchema = yup.object().shape({\n    seatingCapacity: yup.number().required(\"required\"),\n    model: yup.string().required(\"required\"),\n    vehicleNumber: yup.string().required(\"required\")\n  });\n  useEffect(() => {\n    getVehicleData();\n  }, []);\n\n  const getVehicleData = () => {\n    if (id != null) {\n      axios.get(vehicleEndPoint + \"/\" + id).then(response => {\n        const vehicle = response.data.result;\n        setVehicle(vehicle);\n      }).catch(error => {\n        HandleException(error);\n      });\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(Box, {\n    m: \"20px\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 13\n    }\n  }, id == null ? /*#__PURE__*/React.createElement(Header, {\n    title: \"Create Vehicle\",\n    subtitle: \"Create a New Vehicle\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 23\n    }\n  }) : /*#__PURE__*/React.createElement(Header, {\n    title: \"Update Vehicle\",\n    subtitle: \"Update Vehicle Details\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(Formik, {\n    enableReinitialize: true,\n    onSubmit: handleFormSubmit,\n    initialValues: initialValues,\n    validationSchema: checkoutSchema,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 9\n    }\n  }, ({\n    values,\n    errors,\n    touched,\n    handleBlur,\n    handleChange,\n    handleSubmit\n  }) => /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: handleSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 22\n    }\n  }, /*#__PURE__*/React.createElement(Box, {\n    display: \"grid\",\n    gap: \"30px\",\n    gridTemplateColumns: \"repeat(4, minmax(0, 1fr))\",\n    sx: {\n      \"& > div\": {\n        gridColumn: isNonMobile ? undefined : \"span 4\"\n      }\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(TextField, {\n    fullWidth: true,\n    variant: \"filled\",\n    type: \"number\",\n    label: \"Seating Capacity\",\n    onBlur: handleBlur,\n    onChange: handleChange,\n    value: values.seatingCapacity // Make sure this is correct\n    ,\n    name: \"seatingCapacity\",\n    error: !!touched.seatingCapacity && !!errors.seatingCapacity,\n    helperText: touched.seatingCapacity && errors.seatingCapacity,\n    sx: {\n      gridColumn: \"span 2\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(TextField, {\n    fullWidth: true,\n    variant: \"filled\",\n    type: \"text\",\n    label: \"Vehicle Number\",\n    onBlur: handleBlur,\n    onChange: handleChange,\n    value: values.vehicleNumber,\n    name: \"vehicleNumber\",\n    error: !!touched.vehicleNumber && !!errors.vehicleNumber,\n    helperText: touched.vehicleNumber && errors.vehicleNumber,\n    sx: {\n      gridColumn: \"span 2\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(TextField, {\n    fullWidth: true,\n    variant: \"filled\",\n    type: \"text\",\n    label: \"model\",\n    onBlur: handleBlur,\n    onChange: handleChange,\n    value: values.model,\n    name: \"model\",\n    error: !!touched.model && !!errors.model,\n    helperText: touched.model && errors.model,\n    sx: {\n      gridColumn: \"span 2\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 21\n    }\n  })), /*#__PURE__*/React.createElement(Box, {\n    display: \"flex\",\n    justifyContent: \"end\",\n    mt: \"20px\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    type: \"submit\",\n    color: \"secondary\",\n    variant: \"contained\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 21\n    }\n  }, id == null ? \"Create New Vehicle\" : \"Update Vehicle\")))));\n};\n\nexport default AddUpdateVehicle;","map":{"version":3,"names":["React","useEffect","useState","Box","Button","TextField","Formik","yup","useMediaQuery","Header","useNavigate","useParams","axios","vehicleEndPoint","HandleException","toast","AddUpdateVehicle","navigator","isNonMobile","id","vehicle","setVehicle","seatingCapacity","model","email","vehicleNumber","initialValues","handleFormSubmit","values","post","then","success","catch","error","put","checkoutSchema","object","shape","number","required","string","getVehicleData","get","response","data","result","errors","touched","handleBlur","handleChange","handleSubmit","gridColumn","undefined"],"sources":["/Users/suprimpoudel/WebstormProjects/bus_buddy_web/src/scenes/add_update_driver/index.jsx"],"sourcesContent":["import React, {useEffect, useState} from 'react';\nimport {Box, Button, TextField} from \"@mui/material\";\nimport {Formik} from \"formik\";\nimport * as yup from \"yup\";\nimport useMediaQuery from \"@mui/material/useMediaQuery\";\nimport Header from \"../../components/Header\";\nimport {useNavigate, useParams} from \"react-router-dom\";\nimport axios from \"axios\";\nimport {vehicleEndPoint} from \"../../data/apiConstants\";\nimport HandleException from \"../../util/Toastify\";\nimport {toast} from \"react-toastify\";\n\nconst AddUpdateVehicle = () => {\n    const navigator = useNavigate()\n    const isNonMobile = useMediaQuery(\"(min-width:600px)\");\n\n    let {id} = useParams();\n\n    const [vehicle, setVehicle] = useState({\n        id: null, seatingCapacity: 0, model: \"\", email: \"\", vehicleNumber: \"\"\n    });\n\n    const initialValues = {\n        seatingCapacity: vehicle.seatingCapacity, model: vehicle.model, vehicleNumber: vehicle.vehicleNumber,\n    }\n\n    const handleFormSubmit = async (values) => {\n        if (vehicle.id == null) {\n            axios.post(vehicleEndPoint, values)\n                .then(() => {\n                    toast.success(\"Successfully created vehicle\");\n                    navigator(-1);\n                })\n                .catch((error) => {\n                    HandleException(error);\n                });\n        } else {\n            values.id = vehicle.id\n            axios.put(`${vehicleEndPoint}/${vehicle.id}`, values)\n                .then(() => {\n                    toast.success(\"Successfully updated vehicle\");\n                    navigator(-1);\n                })\n                .catch((error) => {\n                    HandleException(error);\n                });\n        }\n    };\n\n    const checkoutSchema = yup.object().shape({\n        seatingCapacity: yup.number().required(\"required\"),\n        model: yup.string().required(\"required\"),\n        vehicleNumber: yup.string().required(\"required\"),\n    });\n\n    useEffect(() => {\n        getVehicleData()\n    }, []);\n\n    const getVehicleData = () => {\n        if (id != null) {\n            axios.get(vehicleEndPoint + \"/\" + id)\n                .then((response) => {\n                    const vehicle = response.data.result;\n                    setVehicle(vehicle)\n                })\n                .catch((error) => {\n                    HandleException(error)\n                });\n        }\n    }\n\n    return (<Box m=\"20px\">\n        {id == null ? <Header title=\"Create Vehicle\" subtitle=\"Create a New Vehicle\"/> :\n            <Header title=\"Update Vehicle\" subtitle=\"Update Vehicle Details\"/>}\n\n        <Formik\n            enableReinitialize={true}\n            onSubmit={handleFormSubmit}\n            initialValues={initialValues}\n            validationSchema={checkoutSchema}\n        >\n            {({\n                  values, errors, touched, handleBlur, handleChange, handleSubmit,\n              }) => (<form onSubmit={handleSubmit}>\n                <Box\n                    display=\"grid\"\n                    gap=\"30px\"\n                    gridTemplateColumns=\"repeat(4, minmax(0, 1fr))\"\n                    sx={{\n                        \"& > div\": {gridColumn: isNonMobile ? undefined : \"span 4\"},\n                    }}\n                >\n                    <TextField\n                        fullWidth\n                        variant=\"filled\"\n                        type=\"number\"\n                        label=\"Seating Capacity\"\n                        onBlur={handleBlur}\n                        onChange={handleChange}\n                        value={values.seatingCapacity} // Make sure this is correct\n                        name=\"seatingCapacity\"\n                        error={!!touched.seatingCapacity && !!errors.seatingCapacity}\n                        helperText={touched.seatingCapacity && errors.seatingCapacity}\n                        sx={{gridColumn: \"span 2\"}}\n                    />\n                    <TextField\n                        fullWidth\n                        variant=\"filled\"\n                        type=\"text\"\n                        label=\"Vehicle Number\"\n                        onBlur={handleBlur}\n                        onChange={handleChange}\n                        value={values.vehicleNumber}\n                        name=\"vehicleNumber\"\n                        error={!!touched.vehicleNumber && !!errors.vehicleNumber}\n                        helperText={touched.vehicleNumber && errors.vehicleNumber}\n                        sx={{gridColumn: \"span 2\"}}\n                    />\n                    <TextField\n                        fullWidth\n                        variant=\"filled\"\n                        type=\"text\"\n                        label=\"model\"\n                        onBlur={handleBlur}\n                        onChange={handleChange}\n                        value={values.model}\n                        name=\"model\"\n                        error={!!touched.model && !!errors.model}\n                        helperText={touched.model && errors.model}\n                        sx={{gridColumn: \"span 2\"}}\n                    />\n                </Box>\n                <Box display=\"flex\" justifyContent=\"end\" mt=\"20px\">\n\n                    <Button type=\"submit\" color=\"secondary\" variant=\"contained\">\n                        {id == null ? \"Create New Vehicle\" : \"Update Vehicle\"}\n                    </Button>\n                </Box>\n            </form>)}\n        </Formik>\n    </Box>);\n};\n\nexport default AddUpdateVehicle;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}